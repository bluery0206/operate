{% extends 'home/base.html' %}
{% load custom_filters %}

{% block content %}

	<h2>Personnel Profiles (Archived)</h2>

	<div class="filter-bar">

		<!--==================== 
			Search by text 
		===================-->
		<form method="GET" class="search-form">
			<input type="search" name="search" placeholder="Search">

			<button class="btn" type="submit">
				<span class="material-symbols-outlined">
					search
				</span>
			</button>
		</form>

		<!--==================== 
			Search by face 
		===================-->
		<div class="dropdown">
			<button class="btn">
				<span class="material-symbols-outlined">
					account_box
				</span>
				FaceSearch
			</button>

			<div class="content">
				<a class="btn" href="#">
					<span class="material-symbols-outlined">
						upload_file
					</span>
					Upload an image
				</a>

				<a class="btn" href="#">
					<span class="material-symbols-outlined">
						photo_camera
					</span>
					Open camera
				</a>
			</div>
		</div>

		<!--==================== 
			Filters
		===================-->
		<form method="GET" class="filter-form">

			<input type="search" name="designation" placeholder="Designation">

			<!--==================== 
				Search by rank 
			===================-->
			<select name="rank" id="rank">
				<option value="">Rank</option>
				<option value="#">#</option>
			</select>

			<!--==================== 
				
			===================-->
			<div>
				<select name="sort_order" id="sort_order">
					<option value="">Others</option>
				</select>
			</div>

			<!--==================== 
				Sort order
			===================-->
			<div>
				<select name="sort_order" id="sort_order">
					<option value="ascending">Ascending</option>
					<option value="descending">Descending</option>
				</select>
			</div>

			<button class="btn" type="submit">
				<span class="material-symbols-outlined">
					filter_alt
				</span>
				Filter
			</button>
		</form>

		<!--==================== 
			User actions 
		===================-->
		<div class="dropdown">
			<button class="btn">
				<span class="material-symbols-outlined">
					more_vert
				</span>
			</button>

			<div class="content">
				<a class="btn" href="#">
					<span class="material-symbols-outlined">
						archive
					</span>
					Archive all
				</a>
				<a class="btn" href="#">
					<span class="material-symbols-outlined">delete</span>
					<span>Delete All</span>
				</a>
			</div>
		</div>
	</div>

	<div class="profiles-list">
		{% if archived_personnels %}
			{% for personnel in archived_personnels %}
				<div class="personnel card">
					<div class="header">
						<div>
							<span class="material-symbols-outlined">schedule</span>
							<span>{{ personnel.archive_date }} by {{ personnel.archive_by }}</span>
						</div>

						<div class="actions">
							<a class="btn" href="{% url 'archives-personnel-profile' personnel.pk %}">
								<span class="material-symbols-outlined">open_in_new</span>
							</a>
							<a class="btn" href="{% url 'profile-personnel-update' personnel.profile.pk %}?prev={{request.path}}">
								<span class="material-symbols-outlined">edit</span>
							</a>
							<a class="btn" href="{% url 'archive-personnel-remove' personnel.pk %}?prev={{request.path}}">
								<span class="material-symbols-outlined">unarchive</span>
							</a>
						</div>
					</div>

					<div class="content">
						<div class="picture">
							<img src="{{ personnel.profile.thumbnail.url }}" alt="">
						</div>

						<div class="details">
							<div>Name:			{{ personnel.profile|full_name }} </div>
							<div>Rank: 			{{ personnel.profile.rank|upper }}</div> 
							<div>Address: 		{{ personnel.profile.address }} </div>
							<div>Date assigned:	{{ personnel.profile.date_assigned }} </div>
							<div>Date relieved: {{ personnel.profile.date_relieved }} </div>
							<div>Designation: 	{{ personnel.profile.designation }} </div>
						</div>
					</div>
				</div>
			{% endfor %}
		{% else %}
			<h2>There are no personnels archived.</h2>
		{% endif %}
	</div>
{% endblock content %}